<!DOCTYPE html>
<html >
<head>
  <meta charset="UTF-8">
  <title>Login form</title>
  
      <link ref="stylesheet" href="css/style.css">
</head>

<body>
  <body>
	<div class="container">
		<section id="content">
			<div class="center">
				<h1>Login Form</h1>
				<div>
					<input type="text" id="txtName">
				
					<input type="text" id="txtpassword">
				
					<button onclick="addName()">Login</button>
					<table border="1">
						   <thead>
						   		<tr>
						   			<th>Names</th>
						   			<th>Password</th>
								<tr>
							</thead>
							<tbody id="tblNames">
							</tbody>
					</table>
					</div>
				<script>
				let json_names = [{
						name: "Clyde",
						password: "sdasdsa"
					},{
						name: "Chester",
						password: "fhy"
					}];
					function addName(){
						let name = document.querySelector('#txtName').value;
						let password= document.querySelector('#txtpassword').value;
						let newName = {
							name: name,
							password: password
						};
						json_names.push(newName);

						console.log(json_names);
						let jns = JSON.stringify(json_names);
						localStorage.setItem('json_names',jns);	

						let jns_retrieve = JSON.parse(localStorage.getItem('json_names'));
						console.log(jns_retrieve);

						console.log("Name is " + jns_retrieve[0].name);
						console.log("Password is " + jns_retrieve[0].password);

				/*		let html = `
							<tr>
								<td>${jns_retrieve[0].name}</td>
								<td>${jns_retrieve[0].gender}</td>
							</tr>
							<tr>
								<td>${jns_retrieve[1].name}</td>
								<td>${jns_retrieve[1].gender}</td>
							</tr>
						`;*/

						let html = ``;

						jns_retrieve.map((name)=>{
				/*			console.log(name.name);
							console.log(name.gender);
							console.log("---------");*/
							html += `
							<tr>
								<td>${name.name}</td>
								<td>${name.password}</td>
							</tr>
							`;		
						});

						/*for(let i=0;i<jns_retrieve.length;i++){
							console.log(jns_retrieve[i].name);
							console.log(jns_retrieve[i].gender);
							console.log("************");
						}*/

						document.querySelector('#tblNames').innerHTML = html;

					}

				</script>	
</body>
</html>
